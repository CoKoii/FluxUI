{"version":3,"file":"index.cjs","sources":["../src/tokens/gap.ts","../src/tokens/font.ts","../src/tokens/motion.ts","../src/tokens/border.ts","../src/themes/light.ts","../src/themes/dark.ts","../src/applyTheme.ts","../src/index.ts"],"sourcesContent":["import type { GapTokens } from \"../types\";\n\nexport const gap: GapTokens = {\n  4: \"4px\",\n  6: \"6px\",\n  8: \"8px\",\n  12: \"12px\",\n  16: \"16px\",\n  20: \"20px\",\n  24: \"24px\",\n};\n","import type { FontTokens } from \"../types\";\n\nexport const font: FontTokens = {\n  family: [\n    \"system-ui\",\n    \"-apple-system\",\n    \"BlinkMacSystemFont\",\n    '\"Segoe UI\"',\n    \"Roboto\",\n    '\"Helvetica Neue\"',\n    \"Arial\",\n    '\"Noto Sans\"',\n    '\"PingFang SC\"',\n    '\"Microsoft YaHei\"',\n    \"sans-serif\",\n  ].join(\", \"),\n  weight100: 100,\n  weight200: 200,\n  weight300: 300,\n  weight400: 400,\n  weight500: 500,\n  weight600: 600,\n  weight700: 700,\n  weight800: 800,\n  weight900: 900,\n  size12: \"12px\",\n  size13: \"13px\",\n  size14: \"14px\",\n  size16: \"16px\",\n  size20: \"20px\",\n};\n","import type { MotionTokens } from \"../types\";\n\nexport const motion: MotionTokens = {\n  transition: {\n    \"300ease\": \"0.3s ease\",\n  },\n};\n","import type { BorderTokens } from \"../types\";\n\nexport const border: BorderTokens = {\n  solid_1: \"1px solid\",\n};\n","import type { Theme } from \"../types\";\nimport { baseColors } from \"../tokens/colors\";\nimport { radius } from \"../tokens/radius\";\nimport { padding } from \"../tokens/padding\";\nimport { shadows } from \"../tokens/shadows\";\nimport { gap } from \"../tokens/gap\";\nimport { font } from \"../tokens/font\";\nimport { motion } from \"../tokens/motion\";\nimport { border } from \"../tokens/border\";\n\nexport const lightTheme: Theme = {\n  name: \"light\",\n  tokens: {\n    colors: { ...baseColors },\n    radius,\n    padding,\n    shadows,\n    gap,\n    font,\n    motion,\n    border,\n  },\n};\n","import type { Theme } from \"../types\";\nimport { radius } from \"../tokens/radius\";\nimport { padding } from \"../tokens/padding\";\nimport { shadows } from \"../tokens/shadows\";\nimport { darkColors } from \"../tokens/colors-dark\";\nimport { gap } from \"../tokens/gap\";\nimport { font } from \"../tokens/font\";\nimport { motion } from \"../tokens/motion\";\nimport { border } from \"../tokens/border\";\n\nexport const darkTheme: Theme = {\n  name: \"dark\",\n  tokens: {\n    colors: { ...darkColors },\n    radius,\n    padding,\n    shadows,\n    gap,\n    font,\n    motion,\n    border,\n  },\n};\n","import type { Theme, ThemeMode, ApplyThemeOptions } from \"./types\";\n\nexport const DEFAULT_PREFIX = \"--fl\";\nexport const DEFAULT_ATTRIBUTE = \"fl-data-theme\";\n\nconst toKebabCase = (str: string) =>\n  str.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\n\nconst isObject = (val: unknown): val is Record<string, unknown> =>\n  val !== null && typeof val === \"object\" && !Array.isArray(val);\n\ntype TokenMap = Record<string, string>;\n\nfunction flattenTokens(tokens: unknown, prefix: string, path = \"\", out: TokenMap = {}): TokenMap {\n  for (const [key, value] of Object.entries(\n    tokens as Record<string, unknown>\n  )) {\n    const tokenPath = path ? `${path}-${toKebabCase(key)}` : toKebabCase(key);\n    if (isObject(value)) {\n      flattenTokens(value, prefix, tokenPath, out);\n    } else {\n      out[`${prefix}-${tokenPath}`] = String(value);\n    }\n  }\n  return out;\n}\n\nconst styleCache = new Map<string, { cssText: string; style: HTMLStyleElement }>();\n\nfunction resolveTarget(target?: HTMLElement): HTMLElement | undefined {\n  return target ?? (typeof document === \"undefined\" ? undefined : document.documentElement);\n}\n\nexport function applyTheme(\n  theme: Theme,\n  target?: HTMLElement,\n  options: ApplyThemeOptions = {}\n) {\n  const { prefix = DEFAULT_PREFIX, attribute = DEFAULT_ATTRIBUTE } = options;\n  const resolvedTarget = resolveTarget(target);\n  if (!resolvedTarget) return;\n\n  const variables = flattenTokens(theme.tokens, prefix);\n  const cssText = `[${attribute}=\"${theme.name}\"]{${Object.entries(variables)\n    .map(([name, value]) => `${name}: ${value};`)\n    .join(\"\")}}`;\n\n  if (typeof document !== \"undefined\") {\n    const key = `${prefix}|${attribute}|${theme.name}`;\n    const cached = styleCache.get(key);\n    if (!cached || cached.cssText !== cssText) {\n      const styleEl = cached?.style ?? document.createElement(\"style\");\n      if (!cached) {\n        styleEl.setAttribute(\"data-fluxuijs-theme\", key);\n        document.head.appendChild(styleEl);\n      }\n      styleEl.textContent = cssText;\n      styleCache.set(key, { cssText, style: styleEl });\n    }\n  }\n\n  for (const name of Object.keys(variables)) {\n    resolvedTarget.style.removeProperty(name);\n  }\n  resolvedTarget.setAttribute(attribute, theme.name);\n}\n\nexport function getThemeMode(target?: HTMLElement): ThemeMode {\n  const resolvedTarget = resolveTarget(target);\n  if (!resolvedTarget) return \"light\";\n  return resolvedTarget.getAttribute(DEFAULT_ATTRIBUTE) === \"dark\"\n    ? \"dark\"\n    : \"light\";\n}\n\nexport function isDark(target?: HTMLElement): boolean {\n  return getThemeMode(target) === \"dark\";\n}\n","export * from \"./types\";\nexport * from \"./themes\";\nexport * from \"./applyTheme\";\nexport * as tokens from \"./tokens\";\n\nimport { lightTheme } from \"./themes\";\nimport { applyTheme } from \"./applyTheme\";\n\nif (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n  applyTheme(lightTheme);\n}\n"],"names":["gap","font","motion","border","lightTheme","baseColors","radius","padding","shadows","darkTheme","darkColors","DEFAULT_PREFIX","DEFAULT_ATTRIBUTE","toKebabCase","str","isObject","val","flattenTokens","tokens","prefix","path","out","key","value","tokenPath","styleCache","resolveTarget","target","applyTheme","theme","options","attribute","resolvedTarget","variables","cssText","name","cached","styleEl","getThemeMode","isDark"],"mappings":"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"}